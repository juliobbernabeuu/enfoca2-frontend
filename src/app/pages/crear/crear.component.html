<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6 bg-dark text-white p-4 rounded shadow">
      <h2 class="mb-4 text-center">Subir nueva fotografía</h2>

      <form (ngSubmit)="onSubmit()" #formulario="ngForm" enctype="multipart/form-data">
        <!-- Título -->
        <div class="mb-3">
          <label for="titulo" class="form-label">Título de la fotografía</label>
          <input
            type="text"
            id="titulo"
            name="titulo"
            class="form-control"
            required
            [(ngModel)]="foto.titulo"
          />
        </div>

        <!-- Categoría -->
        <div class="mb-3">
          <label for="categoria" class="form-label">Categoría</label>
          <select
            id="categoria"
            name="categoria"
            class="form-select"
            required
            [(ngModel)]="foto.id_categoria"
          >
            <option *ngFor="let categoria of categorias" [value]="categoria.id_categoria">
              {{ categoria.nombre_categoria }}
            </option>
          </select>
        </div>

        <!-- Localización -->
        <div class="mb-3">
          <label for="localizacion" class="form-label">Localización</label>
          <input
            type="text"
            id="localizacion"
            name="localizacion"
            class="form-control"
            required
            [(ngModel)]="foto.localizacion_nombre"
          />
        </div>

        <!-- Descargable -->
        <div class="mb-3">
          <label for="descargable" class="form-label">¿Es gratuita?</label>
          <select
            id="descargable"
            name="descargable"
            class="form-select"
            required
            [(ngModel)]="foto.descargable"
            (change)="onDescargableChange()"
          >
            <option [value]="1">Sí</option>
            <option [value]="0">No</option>
          </select>
        </div>

        <!-- Precio -->
        <div class="mb-3">
          <label for="precio" class="form-label">Precio (€)</label>
          <input
            type="number"
            id="precio"
            name="precio"
            class="form-control"
            [readonly]="foto.descargable == 1"
            [(ngModel)]="foto.precio"
          />
        </div>

        <!-- Archivo -->
        <div class="mb-4">
          <label for="archivo" class="form-label">Selecciona la fotografía</label>
          <input
            type="file"
            id="archivo"
            name="archivo"
            class="form-control"
            accept="image/*"
            required
            (change)="onFileChange($event)"
          />
        </div>

        <button type="submit" class="btn btn-outline-light w-100 rounded-pill">
          Subir Fotografía
        </button>
      </form>
    </div>
  </div>
</div>
